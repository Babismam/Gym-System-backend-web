<?xml version="1.0" encoding="UTF-8"?>
<jboss-deployment-structure>
    <deployment>
        <!-- Απενεργοποιούμε το ενσωματωμένο REST σύστημα του Wildfly για το Jackson -->
        <!-- Έτσι θα αναγκαστεί να χρησιμοποιήσει τις βιβλιοθήκες του WAR μας -->
        <exclude-subsystems>
            <subsystem name="jaxrs" />
        </exclude-subsystems>

        <exclusions>
            <module name="com.fasterxml.jackson.core.jackson-core" />
            <module name="com.fasterxml.jackson.core.jackson-annotations" />
            <module name="com.fasterxml.jackson.core.jackson-databind" />
            <module name="com.fasterxml.jackson.jaxrs.jackson-jaxrs-json-provider" />
            <module name="org.jboss.resteasy.resteasy-jackson2-provider" />
        </exclusions>

        <dependencies>
            <!-- Χρειαζόμαστε τα βασικά APIs -->
            <module name="jakarta.api" />
            <module name="jakarta.ws.rs.api" />
            <module name="jakarta.servlet.api" />
            <module name="jakarta.persistence.api" />
            <module name="jakarta.transaction.api" />
            <module name="jakarta.ejb.api" />
            <module name="jakarta.validation.api" />
            <module name="jakarta.xml.bind.api" />
            <module name="org.hibernate" />
        </dependencies>
    </deployment>
</jboss-deployment-structure>